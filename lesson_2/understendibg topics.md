# **–¢—É—Ç–æ—Ä–∏–∞–ª –ø–æ ROS 2: –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤**

## üìñ **–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–ø–∏–∫–∏?**
–í ROS 2 —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (–Ω–æ–¥). **–¢–æ–ø–∏–∫–∏** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (—à–∏–Ω—ã), –ø–æ –∫–æ—Ç–æ—Ä—ã–º —É–∑–ª—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

üîπ **–£–∑–µ–ª –º–æ–∂–µ—Ç:**
- –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–ø–∏–∫–æ–≤
- –ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–ø–∏–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

üîπ **–¢–æ–ø–∏–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:** –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —Å–∏—Å—Ç–µ–º—ã

**–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ç–æ–ø–∏–∫–æ–≤:**
![–¢–æ–ø–∏–∫ —Å –æ–¥–Ω–∏–º –∏–∑–¥–∞—Ç–µ–ª–µ–º –∏ –æ–¥–Ω–∏–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–º](images/Topic-SinglePublisherandSingleSubscriber.gif)
- –û–¥–∏–Ω –∏–∑–¥–∞—Ç–µ–ª—å –∏ –æ–¥–∏–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫

![–¢–æ–ø–∏–∫ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–∑–¥–∞—Ç–µ–ª—è–º–∏ –∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏](images/Topic-MultiplePublisherandMultipleSubscriber.gif)
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑–¥–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

---

## ‚úÖ **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
1. –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —É–∑–ª–∞–º–∏ ROS 2 (–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç—É—Ç–æ—Ä–∏–∞–ª–∞)
2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π ROS 2
3. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å `source` –≤ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ!

---

## üöÄ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å**

### **1. –ó–∞–ø—É—Å–∫–∞–µ–º turtlesim**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1:
ros2 run turtlesim turtlesim_node

# –¢–µ—Ä–º–∏–Ω–∞–ª 2:
ros2 run turtlesim turtle_teleop_key
```
–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å —Ä–∞–±–æ—Ç–∞—é—Ç –¥–≤–∞ —É–∑–ª–∞: `/turtlesim` –∏ `/teleop_turtle`.

### **2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ (rqt_graph)**
```bash
ros2 run rqt_graph rqt_graph
```
–ò–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: **Plugins ‚Üí Introspection ‚Üí Node Graph**

![rqt_graph –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è](images/rqt_graph.png)
*–ì—Ä–∞—Ñ —É–∑–ª–æ–≤ –∏ —Ç–æ–ø–∏–∫–æ–≤ –≤ turtlesim*

**–ß—Ç–æ –≤–∏–¥–∏–º:**
- `/teleop_turtle` –ø—É–±–ª–∏–∫—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–æ–ø–∏–∫ `/turtle1/cmd_vel`
- `/turtlesim` –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —ç—Ç–æ—Ç —Ç–æ–ø–∏–∫ –∏ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã
- **–°–æ–≤–µ—Ç:** –Ω–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ç–æ–ø–∏–∫, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### **3. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–ø–∏–∫–æ–≤**
```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
ros2 topic list

# –°–ø–∏—Å–æ–∫ —Å —Ç–∏–ø–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
ros2 topic list -t
```
–í—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ:
```
/turtle1/cmd_vel [geometry_msgs/msg/Twist]
/turtle1/color_sensor [turtlesim/msg/Color]
/turtle1/pose [turtlesim/msg/Pose]
```

### **4. –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–æ–ø–∏–∫–µ**
```bash
ros2 topic echo /turtle1/cmd_vel
```
–¢–µ–ø–µ—Ä—å –¥–≤–∏–≥–∞–π—Ç–µ —á–µ—Ä–µ–ø–∞—à–∫—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å `turtle_teleop_key` –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!

![–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ echo –≤ rqt_graph](images/debug.png)
*rqt_graph —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º echo*

### **5. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–ø–∏–∫–µ**
```bash
# –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
ros2 topic info /turtle1/cmd_vel

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç QoS –∏ —Ç.–¥.)
ros2 topic info /turtle1/cmd_vel --verbose
```

### **6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**
–ö–∞–∂–¥—ã–π —Ç–æ–ø–∏–∫ –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è. –£–∑–Ω–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```bash
ros2 interface show geometry_msgs/msg/Twist
```
–í—ã–≤–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `linear` (x, y, z)
- `angular` (x, y, z)

### **7. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Ç–æ–ø–∏–∫ –≤—Ä—É—á–Ω—É—é**
```bash
# –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è (1 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)
ros2 topic pub /turtle1/cmd_vel geometry_msgs/msg/Twist \
  "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}"
```

![–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è](images/pub_stream.png)
*–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥*

```bash
# –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
ros2 topic pub --once /turtle1/cmd_vel geometry_msgs/msg/Twist \
  "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}"
```

![–û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è](images/pub_once.png)
*–û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –¥–≤–∏–∂–µ–Ω–∏–µ —á–µ—Ä–µ–ø–∞—à–∫–∏*

![rqt_graph –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏](images/rqt_graph2.png)
*rqt_graph –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏*

### **8. –ò–∑–º–µ—Ä–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π**
```bash
ros2 topic hz /turtle1/pose
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–ø–∏–∫ `/turtle1/pose`.

### **9. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```bash
ros2 topic bw /turtle1/pose
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–æ–ø–∏–∫.

### **10. –ü–æ–∏—Å–∫ —Ç–æ–ø–∏–∫–æ–≤ –ø–æ —Ç–∏–ø—É**
```bash
ros2 topic find geometry_msgs/msg/Twist
```
–ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ç–æ–ø–∏–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üßπ **–û—á–∏—Å—Ç–∫–∞**
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –Ω–∞–∂–∞–≤ **Ctrl+C** –≤ –∫–∞–∂–¥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

---

## üìù **–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã**
‚úÖ **–¢–æ–ø–∏–∫–∏** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ ROS 2  
‚úÖ –ö–∞–∂–¥—ã–π —Ç–æ–ø–∏–∫ –∏–º–µ–µ—Ç **–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è**  
‚úÖ **–û–¥–∏–Ω —Ç–æ–ø–∏–∫** –º–æ–∂–µ—Ç –∏–º–µ—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–¥–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤**  
‚úÖ ROS 2 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** –¥–ª—è –∏–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏–∏ —Ç–æ–ø–∏–∫–æ–≤

---

## üîú **–ß—Ç–æ –¥–∞–ª—å—à–µ?**
–û—Å–≤–æ–∏–≤ —Ç–æ–ø–∏–∫–∏, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –∏–∑—É—á–µ–Ω–∏—é **—Å–µ—Ä–≤–∏—Å–æ–≤ (services)** ‚Äî –¥—Ä—É–≥–æ–º—É —Ç–∏–ø—É –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –≤ ROS 2, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç".

---

## üéÆ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ turtlesim
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —É–∑–µ–ª-–ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–∞ —Ç–æ–ø–∏–∫ `/turtle1/pose`
3. –ò–∑–º–µ—Ä—å—Ç–µ —á–∞—Å—Ç–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–ø–∞—à–∫–∏
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã —á–µ—Ä–µ–ø–∞—à–∫–∞ –¥–≤–∏–≥–∞–ª–∞—Å—å –ø–æ –∫—Ä—É–≥—É

**–£–¥–∞—á–∏ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏ ROS 2!** üê¢üöÄ